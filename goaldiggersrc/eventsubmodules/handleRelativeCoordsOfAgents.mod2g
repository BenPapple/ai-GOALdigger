use "../goaldiggerProlog" as knowledge.

/**
 * Handles message to coordinate names and relative coordinates between agents
 *
 */

module handleRelativeCoordsOfAgents {

	% Sending other agents its position, name, step and position of perceived next agent if agent is being seen
	forall percept(thing(OtherX, OtherY, entity, Details), OtherX \= 0, OtherY \= 0, name(OwnName), team(TeamName)), bel(Details == TeamName, agentAt(OwnX,OwnY), step(Step), Step > 2)
		do (channelNamesRelativeXY).send(seenOtherAgentAt(OwnX, OwnY, OtherX, OtherY, Step, OwnName)).
		
	% send raw coordinates, name and step into channel channelNamesRelativeXY ToDo later, not necessary for competition
	%if bel(agentAt(X, Y)), percept(name(OwnName), step(Step)) then (channelNamesRelativeXY).send(otherAgentAt(OwnName, X, Y, Step)).
	
} % module